(this["webpackJsonpalex-the-hungry-dog"]=this["webpackJsonpalex-the-hungry-dog"]||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r.p+"static/media/dog.ae075a90.svg"},function(e,t,r){e.exports=r.p+"static/media/bone.7475f535.svg"},function(e,t,r){e.exports=r.p+"static/media/rotten_meat.bc3d20ac.svg"},function(e,t,r){e.exports=r(18)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(7),c=r.n(o),i=(r(16),r(3)),s=(r(17),r(8)),l=r.n(s),d=function(e){var t=e.direction;return n.a.createElement("img",{className:"dog ".concat(t),src:l.a,alt:""})},u=r(9),m=r.n(u),g=r(10),f=r.n(g),p=function(e){var t=e.isRotten;return!0===(void 0!==t&&t)?n.a.createElement("img",{className:"bone rotten",src:f.a,alt:""}):n.a.createElement("img",{className:"bone",src:m.a,alt:""})},v=function(e){var t=e.gridList,r=e.dogDirection;return n.a.createElement("section",{className:"grid-container"},t.map((function(e,t){return n.a.createElement("section",{className:"row",key:t},e.map((function(e,t){return"D"===e?n.a.createElement("div",{className:"grid-element",key:t},n.a.createElement(d,{direction:r})):"B"===e?n.a.createElement("div",{className:"grid-element",key:t},n.a.createElement(p,{isRotten:!1})):"R"===e?n.a.createElement("div",{className:"grid-element",key:t},n.a.createElement(p,{isRotten:!0})):n.a.createElement("span",{className:"grid-element",key:t})})))})))},h=function(){return n.a.createElement("section",{className:"header"},n.a.createElement("h1",null,"Alex the Hungry Dog"))},b=function(e){var t=e.score,r=e.text;return n.a.createElement("section",{className:"score-container"},n.a.createElement("p",null,r),n.a.createElement("span",{className:"score"},t))},E=r(1),w=r(5);function y(e,t){switch(t.type){case"add_position":var r=t.row,a=t.col,n=t.value,o=Object(w.a)(e.gridList);return o[r][a]=n,Object(E.a)({},e,{gridList:o});case"update_dog_position":var c=e.dogDirection,s=Object(i.a)(e.currentDogPosition,2),l=s[0],d=s[1],u=l,m=d,g=c;switch(c){case"up":(u-=1)<0&&(g="down",u=0);break;case"down":(u+=1)>=8&&(g="up",u=7);break;case"left":(m-=1)<0&&(g="right",m=0);break;case"right":(m+=1)>=8&&(g="left",m=7)}var f=Object(w.a)(e.gridList);if(f[l][d]=0,"B"===f[u][m]){var p=N(f),v=p.row,h=p.col;return f[v][h]="B",e.speed-=200,e.score+=1,f[u][m]="D",Object(E.a)({},e,{score:e.score,speed:e.speed,gridList:f,dogDirection:g,currentDogPosition:[u,m]})}return"R"===f[u][m]?(console.log("Game Over !!!!!"),Object(E.a)({},e,{isGameOver:!0,gridList:f,dogDirection:g,currentDogPosition:[u,m]})):(f[u][m]="D",Object(E.a)({},e,{gridList:f,dogDirection:g,currentDogPosition:[u,m]}));case"update_dog_direction":return Object(E.a)({},e,{dogDirection:t.direction});default:return e}}function N(e){for(var t=Math.floor(100*Math.random())%7,r=Math.floor(100*Math.random())%7;t>=0&&t<8&&r>=0&&r<8&&0!==e[t][r];)t=Math.floor(100*Math.random())%7,r=Math.floor(100*Math.random())%7;return{row:t,col:r}}var O=function(){for(var e=Object(a.useRef)(null),t=Object(a.useState)(0),r=Object(i.a)(t,2),o=r[0],c=r[1],s=new Array(8).fill(0),l=0;l<s.length;l++)s[l]=new Array(8).fill(0);s[0][0]="D";var d=Object(a.useReducer)(y,{gridList:s,score:0,speed:2e3,isGameOver:!1,dogDirection:"down",currentDogPosition:[0,0]}),u=Object(i.a)(d,2),m=u[0],g=u[1];Object(a.useEffect)((function(){var e=localStorage.getItem("score");e&&!1===Number.isNaN(Number(e))&&c(e)}),[]),Object(a.useEffect)((function(){var e=N(m.gridList),t=e.row,r=e.col;g({type:"add_position",row:t,col:r,value:"B"});var a=N(m.gridList),n=a.row,o=a.col;return g({type:"add_position",row:n,col:o,value:"R"}),document.addEventListener("keyup",f),function(){return document.removeEventListener("keyup",f)}}),[m.gridList.length]),Object(a.useEffect)((function(){if(!m.isGameOver)return e.current=setInterval((function(){g({type:"update_dog_position"})}),m.speed),m.isGameOver&&(clearInterval(e.current),e.current=null),function(){e.current&&clearInterval(e.current)}})),Object(a.useEffect)((function(){if(!0===m.isGameOver){var e=localStorage.getItem("score");if(null===e)return localStorage.setItem("score",m.score),void c(m.score);if(!1===Number.isNaN(Number(e))&&e<m.score)return localStorage.setItem("score",m.score),void c(m.score)}}),[m.isGameOver,m.score]);var f=function(e){switch(e.key){case"ArrowUp":g({type:"update_dog_direction",direction:"up"});break;case"ArrowDown":g({type:"update_dog_direction",direction:"down"});break;case"ArrowLeft":g({type:"update_dog_direction",direction:"left"});break;case"ArrowRight":g({type:"update_dog_direction",direction:"right"})}};return n.a.createElement("div",{className:"App"},n.a.createElement(h,null),n.a.createElement("section",{className:"scores"},n.a.createElement(b,{score:m.score,text:"Score"}),n.a.createElement(b,{score:o,text:"Best"})),n.a.createElement(v,{N:8,gridList:m.gridList,dogDirection:m.dogDirection}),n.a.createElement("article",{className:"description"},n.a.createElement("p",{className:"text"},"This is the game about Alex, the hungry dog. Help Alex to find the bone in the garden. But be aware of the rotten meat, if Alex eats the rotten meat, it would die, means Game Over!!!!"),n.a.createElement("p",{className:"text"},n.a.createElement("span",{className:"super-text"},"How to Play:"),"Please use the arrow keys on keyboard to move Alex around.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.3d3a705a.chunk.js.map